# 카카오 알림톡 템플릿 모음

이 폴더에는 카카오 비즈니스 채널에 등록할 알림톡 템플릿들이 저장되어 있습니다.

## 파일 네이밍 규칙
- `01_호스트_등록완료.txt` - 번호_한글설명.txt

## 변수 규칙
카카오 알림톡에서는 `#{변수명}` 형태로 변수를 사용합니다.
- `#{date}` : 날짜 (예: 2월 3일)
- `#{time}` : 시간 (예: 19:00)

## 등록 시 참고사항
1. 카카오 비즈니스 채널 관리자센터 접속
2. 알림톡 > 템플릿 관리 > 템플릿 등록
3. 승인까지 1~3 영업일 소요
4. 승인 후 템플릿 ID를 .env.local에 설정

---

## 📋 템플릿 목록

### 🟢 예약/등록 단계 (01~03)

| 번호 | 파일명 | 설명 | 환경변수 |
|------|--------|------|----------|
| 01 | 호스트_등록완료 | 빈 슬롯에 호스트 등록 시 | VITE_TEMPLATE_HOST_REGISTERED |
| 02 | 게스트_신청완료 | 게스트가 매칭 신청 시 (게스트에게) | VITE_TEMPLATE_GUEST_APPLIED |
| 03 | 호스트_새신청알림 | 새 게스트 신청 시 (호스트에게) | VITE_TEMPLATE_HOST_NEW_APPLICANT |

### 🟡 1차 매칭 단계 (04~05)

| 번호 | 파일명 | 설명 | 환경변수 |
|------|--------|------|----------|
| 04 | 1차매칭_완료안내 | 1차 매칭 완료 (양팀에게) | VITE_TEMPLATE_FIRST_MATCH_COMPLETE |
| 05 | 매칭_미선택알림 | 선택받지 못한 게스트에게 | VITE_TEMPLATE_NOT_SELECTED |

### 🔵 정보 교환 단계 (06~09)

| 번호 | 파일명 | 설명 | 환경변수 |
|------|--------|------|----------|
| 06 | 정보열람_결제안내 | 상대가 공개 + 본인 열람 원함 → **정보 열람 결제** 안내 | VITE_TEMPLATE_PAYMENT_REQUEST |
| 07 | 정보전달_진행확인 | 결제 후 정보 전달 + 계속 진행 확인 | VITE_TEMPLATE_INFO_DELIVERED |
| 08 | 정보비공개_진행확인 | 상대가 비공개 → 그래도 진행할건지 | VITE_TEMPLATE_INFO_DENIED_CONTINUE |
| 09 | 상대팀_프로세스대기 | 상대팀 프로세스 진행 중 대기 안내 | VITE_TEMPLATE_WAIT_OTHER_TEAM |

### 🟣 최종 매칭 단계 (10~11)

| 번호 | 파일명 | 설명 | 환경변수 |
|------|--------|------|----------|
| 10 | 최종매칭_결제안내 | 양팀 진행 동의 후 **최종 매칭 결제** 안내 | VITE_TEMPLATE_FINAL_PAYMENT_REQUEST |
| 11 | 최종매칭_완료 | 결제 완료 후 최종 매칭 확정 | VITE_TEMPLATE_FINAL_MATCH_COMPLETE |

### 🔴 취소 단계 (12~16)

| 번호 | 파일명 | 설명 | 환경변수 |
|------|--------|------|----------|
| 12 | 프로세스중_매칭취소 | 1차 매칭 후 프로세스 중 취소 (양팀에게) | VITE_TEMPLATE_PROCESS_CANCELLED |
| 13 | 호스트_개인사정취소 | 호스트 개인 사정 취소 (전체에게) | VITE_TEMPLATE_HOST_CANCELLED_ALL |
| 14 | 게스트_1차후취소_본인알림 | 1차 후 게스트 취소 (본인에게) | VITE_TEMPLATE_GUEST_CANCELLED_AFTER_FIRST |
| 15 | 게스트_1차후취소_호스트알림 | 1차 후 게스트 취소 (호스트에게) | VITE_TEMPLATE_GUEST_CANCELLED_HOST_NOTIFY |
| 16 | 게스트_1차전취소_본인알림 | 1차 전 게스트 취소 (본인에게) | VITE_TEMPLATE_GUEST_CANCELLED_BEFORE_FIRST |

---

## 🔄 매칭 프로세스 플로우

```
[호스트 등록] → 01 발송
     ↓
[게스트 신청] → 02 (게스트에게) + 03 (호스트에게) 발송
     ↓
[호스트가 게스트 선택 = 1차 매칭]
     ↓
  ├─→ 선택된 게스트 & 호스트: 04 발송
  └─→ 미선택 게스트들: 05 발송
     ↓
[정보 공개/열람 여부 설정]
     ↓
  ├─ A원함 + B공개 → 06 (정보 결제) → 07 (정보+진행확인) ─┐
  ├─ A원함 + B비공개 → 08 (그래도 진행?) ────────────────┤
  ├─ A안원함 + B원함 → 09 (A대기) ──────────────────────┤
  └─ 둘다 안원함 ─────────────────────────────────────┘
     ↓
[양팀 모두 진행 동의 or 처음부터 정보 안 원함]
     ↓
→ 10 (최종 매칭 결제 안내)
     ↓
[결제 완료]
     ↓
→ 11 (최종 매칭 완료)

[취소 시]
  ├─ 프로세스 중 취소 → 12 (양팀)
  ├─ 호스트 개인사정 → 13 (전체)
  ├─ 게스트 1차후 취소 → 14 (본인) + 15 (호스트)
  └─ 게스트 1차전 취소 → 16 (본인)
```

---

## 💰 결제 종류

1. **정보 열람 결제 (06)**: 상대팀 인스타 아이디 확인용 (선택적)
2. **최종 매칭 결제 (10)**: 실제 만남 진행 확정용 (필수)
